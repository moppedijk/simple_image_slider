/** 
 * Package name: slider 
 * Publish date: 2018-01-11 
 * Author: Martijn Oppedijk 
 * Description: Simple Slider 
 * Version: 1.0.0 
 */

if("function"==typeof window.Slider)throw new Error("Slider constructor allready exists in window object");window.Slider=function t(e){var n,r,i,l=[];if(!e)throw new Error("Slider init has no props");if(!e.images||!e.target)throw new Error("Images or target are not defined in init");for(var o=0;o<e.images.length;o++)l.push(new t.prototype.Slide(e.images[o]));r=new t.prototype.Btn({label:"left",type:"prev"}),i=new t.prototype.Btn({label:"right",type:"next"}),t.prototype._render({images:l,btnPrev:r,btnNext:i,target:e.target}),n=new t.prototype.SliderController({images:l,btnPrev:r,btnNext:i}),this.startAt=function(t){if(!n)throw new Error("Controller not yet definded");n.startAt(t)},this.nextSlide=function(){n.next()},this.prevSlide=function(){n.prev()},this.getCurrentSlide=function(){return n.getCurrentSlide()}},Slider.prototype._render=function(t){var e=document.getElementById(t.target),n="";n+="<div class='slider'>",n+=t.btnPrev.getHtml(),n+=t.btnNext.getHtml();for(var r=0;r<t.images.length;r++)n+=t.images[r].getHtml();n+="</div>",e.innerHTML=n},Slider.prototype.Btn=function(){var t,e=0;return t=function(t){var e="";switch(t.type){case"prev":e+="<div class='slider__btn slider__btn--prev'>";break;case"next":e+="<div class='slider__btn slider__btn--next'>";break;default:e+="<div class='slider__btn'>"}return e+="<a class='slider__btnlink' id='"+t.htmlId+"' href='javascript:void(0);'>"+t.label+"</a>",e+="</div>"},function(n){var r,i,l;r="btn_"+ ++e,i=n.type||!1,l=n.label||"btn",this.getHtml=function(){return t({htmlId:r,type:i,label:l})},this.getId=function(){return e},this.getHtmlId=function(){return r},this.getType=function(){return i}}}(),Slider.prototype.Slide=function(){var t,e,n,r=0;return t=function(t){var e="";return e+="<div id='"+t.htmlId+"' class='slider__slide'>",e+="<div ' class='slider__title'>"+t.title+"</div>",e+="<img class='slider__image' src='"+t.url+"' alt='image' />",e+="</div>"},e=function(t){document.getElementById(t).style.display="block"},n=function(t){document.getElementById(t).style.display="none"},function(i){var l,o,d,s;l="image_"+ ++r,o=i.url||!1,d=i.title||"Unknown",s=i.link||!1,this.getHtml=function(){return t({htmlId:l,url:o,title:d,link:s})},this.show=function(){e(l)},this.hide=function(){n(l)},this.getId=function(){return r},this.getHtmlId=function(){return l},this.getUrl=function(){return o}}}(),Slider.prototype.SliderController=function(){var t,e,n,r,i,l,o;return n=function(){o()},r=function(){l()},i=function(t){if(t>e.length)throw new Error("Show Slide index is to large! It needs to be smaller or equal to: "+e.length);for(var n=0;n<e.length;n++)e.indexOf(e[n])===t?e[n].show():e[n].hide()},l=function(){t>=e.length-1?(i(0),t=0):i(++t)},o=function(){t<=0?(i(e.length-1),t=e.length-1):i(--t)},function(d){var s,a,u=!1;e=d.images||!1,a=document.getElementById(d.btnPrev.getHtmlId()),s=document.getElementById(d.btnNext.getHtmlId()),a.addEventListener("click",n),s.addEventListener("click",r),this.startAt=function(e){if(u)throw new Error("Slider allready started");i(t=e||0),u=!0},this.next=function(){l()},this.prev=function(){o()},this.getCurrentSlide=function(){return t}}}();